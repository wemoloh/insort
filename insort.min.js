(function(){'use strict';function c(l,m,n){let o=0,p=l.length;for(;o<p;){let q=i((o+p)/2);0<m(n,l[q])?o=q+1:p=q}return o}let d={};const e=Symbol('insort.CMP'),g=Symbol('insort.ORDER'),h=(l,m)=>(l+'').localeCompare(m);let i=Math.floor;class j extends Map{constructor(l=[],m=h){super();let n=[];for(let[o,p]of l){let q=this.size;super.set(o,p),q!==this.size&&n.push(o)}this[g]=n.sort(m),this[e]=m}clear(){super.clear(),this[g].length=0}delete(l){let m=super.delete(l);if(m){let n=this[g];n.splice(c(n,this[e],l),1)}return m}*entries(){for(let l of this[g])yield[l,this.get(l)]}forEach(l,m){for(let n of this[g])l.call(m,this.get(n),n,this)}keys(){return this[g][Symbol.iterator]()}set(l,m){let n=this.size;if(super.set(l,m),n!==this.size){let o=this[g];o.splice(c(o,this[e],l),0,l)}return this}*values(){for(let l of this[g])yield this.get(l)}}j.prototype[Symbol.iterator]=j.prototype.entries,d.SortedMap=j;class k extends Set{constructor(l=[],m=h){super();let n=[];for(let o of l){let p=this.size;super.add(o),p!==this.size&&n.push(o)}this[g]=n.sort(m),this[e]=m}add(l){let m=this.size;if(super.add(l),m!==this.size){let n=this[g];n.splice(c(n,this[e],l),0,l)}return this}clear(){super.clear(),this[g].length=0}delete(l){let m=super.delete(l);if(m){let n=this[g];n.splice(c(n,this[e],l),1)}return m}*entries(){for(let l of this[g])yield[l,l]}forEach(l,m){for(let n of this[g])l.call(m,n,n,this)}values(){return this[g][Symbol.iterator]()}}k.prototype.keys=k.prototype[Symbol.iterator]=k.prototype.values,d.SortedSet=k,d.SortedObject=class{constructor(m={},n=h){Object.assign(this,m);let o=Object.keys(m).sort(n);return new Proxy(this,{ownKeys:()=>o,set:(p,q,r)=>{let s=Object.prototype.hasOwnProperty.call(p,q);return p[q]=r,s||o.splice(c(o,n,q),0,q),!0},deleteProperty:(p,q)=>{let r=Object.prototype.hasOwnProperty.call(p,q);return r&&(delete p[q],o.splice(c(o,n,q),1)),!0}})}},'undefined'!=typeof module&&!module.nodeType&&module.exports?module.exports=d:self.insort=d})();
